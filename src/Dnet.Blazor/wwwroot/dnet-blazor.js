(()=>{var t={998:()=>{window.admindashboardinterop={get:t=>t in localStorage?JSON.parse(localStorage[t]):null,set:(t,e)=>{localStorage[t]=JSON.stringify(e)},delete:t=>{delete localStorage[t]},getElementScrollLeft:function(t){return null!=t?t.scrollLeft:0},getBoundingClientRect:function(t){return null!=t?t.getBoundingClientRect():null},getElementScrollWidth:function(t){return null!=t?t.scrollWidth:0},getElementSOffsets:function(t){return null==t?{offsetWidth:0,offsetHeight:0,offsetTop:0,offsetLeft:0}:{offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight,offsetTop:t.offsetTop,offsetLeft:t.offsetLeft}}}},619:()=>{window.blginterop=function(){const t={};let e,n=!1,o=!1,i=null;function r(t){return t?"visible"!==getComputedStyle(t).overflowY?t:r(t.parentElement):null}return{addTouchListeners:function(t,r,l){return function(t,r,l){let c,a,s,u;t.addEventListener("touchstart",(function(t){if(n)return;c=t.touches[0].clientX,a=t.touches[0].clientY,s=r.scrollLeft,u=r.scrollTop,n=!0,i=t.touches[0],o=!1;const e=i;window.setTimeout((()=>{n&&i===e&&!o&&(o=!0)}),500)}),{passive:!0}),t.addEventListener("touchmove",(function(t){if(!n)return;const e=function(t){for(let e=0;e<t.length;e++)if(t[e].identifier===i.identifier)return t[e];return null}(t.touches);if(!e)return;!function(t,e,n){const o=Math.abs(t.clientX-e.clientX),i=Math.abs(t.clientY-e.clientY);return Math.max(o,i)<=4}(e,i)&&(o=!0);const u=t.touches[0];console.log("startX",c),console.log("touch.clientX",u.clientX);const d=u.clientX-c,f=u.clientY-a;if(Math.abs(d)>Math.abs(f)){if(Math.abs(d)>10){t.preventDefault();var h=r.scrollWidth-r.clientWidth;console.log("deltaX",d),r.scrollLeft=s-d;var g=r.scrollLeft;if(console.log("elementScrollLeft",g),0===g&&d<0||g>=h&&d>0)return;var m={maxScrollLeft:h,deltaX:d,elementScrollLeft:g};l.invokeMethodAsync("OnTouchMove",m)}}else if(Math.abs(f)>10)return;Math.abs(d)>10&&Math.abs(f)}),{passive:!1}),t.addEventListener("touchend",(function(t){n&&(o||function(){const t=(new Date).getTime();e=e&&e>0&&t-e>500?null:t}(),n=!1)}),{passive:!0})}(t,r,l),!0},addWindowEventListeners:function(t,e){return t.addEventListener("mouseleave",(function(){e.invokeMethodAsync("MouseLeave")})),!0},getElementScrollLeft:function(t){return t.scrollLeft},getBoundingClientRect:function(t){return t.getBoundingClientRect()},getElementScrollWidth:function(t){return t.scrollWidth},getHeaderWidth:function(t){let e=document.getElementById(t).getElementsByClassName("blg-header-cell blg-header-cell-notpinned"),n=0;for(var o=0;o<e.length;o++)n+=e[o].clientWidth;return n},init:function(e,n,o,i=50){const l=r(n);(l||document.documentElement).style.overflowAnchor="none";const c=new window.IntersectionObserver((function(t){t.forEach((t=>{if(!t.isIntersecting)return;const i=n.getBoundingClientRect(),r=o.getBoundingClientRect().top-i.bottom,l=t.rootBounds.height;t.target===n?e.invokeMethodAsync("OnSpacerBeforeVisible",t.intersectionRect.top-t.boundingClientRect.top,r,l):t.target===o&&o.offsetHeight>0&&e.invokeMethodAsync("OnSpacerAfterVisible",t.boundingClientRect.bottom-t.intersectionRect.bottom,r,l)}))}),{root:l,rootMargin:`${i}px`,threshold:0});c.observe(n),c.observe(o);const a=u(n),s=u(o);function u(t){const e=new window.MutationObserver((()=>{c.unobserve(t),c.observe(t)}));return e.observe(t,{attributes:!0}),e}t[e._id]={intersectionObserver:c,mutationObserverBefore:a,mutationObserverAfter:s}},dispose:function(e){const n=t[e._id];n&&(n.intersectionObserver.disconnect(),n.mutationObserverBefore.disconnect(),n.mutationObserverAfter.disconnect(),e.dispose(),delete t[e._id])}}}()},918:()=>{window.dnetimageeditor=function(){var t=window.rxjs,e=0,n=0,o=0,i=0;function r(t,r,l,c,a,s,u,d,f){let h,g,m,w;switch(t){case"TopLeft":h=o+(a-l),g=i+(a-l),m=n-(a-l),w=e-(a-l);break;case"TopRight":h=o+(a-l),g=i+(a-l),m=n-(a-l),w=e;break;case"BottomLeft":h=o+(c-r),g=i+(c-r),m=n,w=e-(c-r);break;case"BottomRight":h=o-(a-l),g=i-(a-l),m=n,w=e;break;case"TopCenter":h=o+(a-l),g=i,m=n-(a-l),w=e;break;case"BottomCenter":h=o-(a-l),g=i,m=n,w=e;break;case"RightCenter":h=o,g=i-(c-r),m=n,w=e;break;case"LeftCenter":h=o,g=i+(c-r),m=n,w=e-(c-r)}return g=Math.max(g,d),h=Math.max(h,f),w=Math.max(0,w),m=Math.max(0,m),w+g>s&&(g=s-w),m+h>u&&(h=u-m),{height:h,width:g,top:m,left:w}}return{setFocus:function(t){t&&t.focus()},getBoundingClientRect:function(t){return t.getBoundingClientRect()},initializeDragAndDrop:function(t,r,l,c,a,s){!function(t,r,l,c,a){e=c,n=a,i=r.offsetWidth,o=r.offsetHeight;const s=l.offsetWidth,u=l.offsetHeight,d=6;let f=0,h=0,g=0,m=0,w=!1,p=null,v=e,b=n;const M=r.nextElementSibling&&r.nextElementSibling.classList&&r.nextElementSibling.classList.contains("dnet-crop-box-dummy")?r.nextElementSibling:null;function E(e,n){const l=Math.min(Math.max(e,d),s-i-d),c=Math.min(Math.max(n,0),u-o);v=l,b=c,r.style.left=l+"px",r.style.top=c+"px",M&&(M.style.left=l+"px",M.style.top=c+"px"),t.invokeMethodAsync("OnDrag",{height:o,width:i,left:l,top:c})}function L(t){if(!w)return;const e=g+(t.clientX-f),n=m+(t.clientY-h);null==p&&(p=window.requestAnimationFrame((function(){p=null,E(e,n)})))}function W(r){w&&(w=!1,document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",W),e=v,n=b,t.invokeMethodAsync("OnDragEnd",{height:o,width:i,left:e,top:n}))}E(e,n),r.addEventListener("mousedown",(function(o){o.preventDefault(),w=!0,f=o.clientX,h=o.clientY,g=e,m=n,t.invokeMethodAsync("OnDragStart"),document.addEventListener("mousemove",L),document.addEventListener("mouseup",W)}))}(t,r,l,c,a)},initializeResize:function(l,c,a,s,u,d,f,h,g,m,w){!function(l,c,a,s,u,d,f,h,g,m,w){e=a,n=s,o=u,i=d;for(let a of c){const c=t.fromEvent(a.reference,"mousedown"),s=t.fromEvent(document.body,"mousemove"),u=t.fromEvent(document.body,"mouseup").pipe(t.operators.take(1));c.pipe(t.operators.switchMap((c=>{const d=c.clientX,g=c.clientY;return this._resizeEndSub=u.subscribe((t=>{var c=r(a.resizerType,t.clientX,t.clientY,d,g,f,h,m,w);e=c.left,n=c.top,o=c.height,i=c.width,l.invokeMethodAsync("OnResizeEnd",{height:o,width:i,left:e,top:n})})),c.preventDefault(),l.invokeMethodAsync("OnResizeStart"),s.pipe(t.operators.map((t=>(t.preventDefault(),r(a.resizerType,t.clientX,t.clientY,d,g,f,h,m,w)))),t.operators.takeUntil(u))}))).pipe(t.operators.filter((t=>t.top+t.height<=h&&t.left+t.width<=f&&t.height>w&&t.top>=0&&t.left>=0))).subscribe((t=>{l.invokeMethodAsync("OnResize",t)}))}}(l,c,a,s,u,d,f,h,0,m,w)},cropWithPhoton:async function(t,e,n,o,i,r,l){if(!t)throw new Error("Image element is required");const c=await window.photonInit.get();var a=document.createElement("canvas"),s=a.getContext("2d");a.width=t.naturalWidth||t.width,a.height=t.naturalHeight||t.height,s.drawImage(t,0,0);const u=Math.max(0,Math.min(Math.round(e),a.width-1)),d=Math.max(0,Math.min(Math.round(n),a.height-1)),f=u+Math.max(1,Math.min(Math.round(o),a.width-u)),h=d+Math.max(1,Math.min(Math.round(i),a.height-d));let g=c.open_image(a,s),m=c.crop(g,u,d,f,h),w=m;if(r&&l){const t=Math.max(1,Math.min(Math.round(r),8192)),e=Math.max(1,Math.min(Math.round(l),8192)),n=t*e*4,o=2147483647;if(n>o)throw new Error(`Resize dimensions too large: ${t}x${e} would create ${n} byte buffer (max: ${o})`);w=c.resize(m,t,e,5)}var p=document.createElement("canvas");p.width=w.get_width(),p.height=w.get_height();var v=p.getContext("2d");return c.putImageData(p,v,w),p.toDataURL("image/jpeg",.95)},flipHorizontal:async function(t){if(!t)throw new Error("Image element is required");const e=await window.photonInit.get();var n=document.createElement("canvas"),o=n.getContext("2d");n.width=t.naturalWidth||t.width,n.height=t.naturalHeight||t.height,o.drawImage(t,0,0);let i=e.open_image(n,o);e.fliph(i);var r=document.createElement("canvas");r.width=i.get_width(),r.height=i.get_height();var l=r.getContext("2d");return e.putImageData(r,l,i),r.toDataURL("image/jpeg",.95)},flipVertical:async function(t){if(!t)throw new Error("Image element is required");const e=await window.photonInit.get();var n=document.createElement("canvas"),o=n.getContext("2d");n.width=t.naturalWidth||t.width,n.height=t.naturalHeight||t.height,o.drawImage(t,0,0);let i=e.open_image(n,o);e.flipv(i);var r=document.createElement("canvas");r.width=i.get_width(),r.height=i.get_height();var l=r.getContext("2d");return e.putImageData(r,l,i),r.toDataURL("image/jpeg",.95)}}}()},27:()=>{let t=null,e=null;async function n(){return t||e||(e=(async()=>{try{const e=document.baseURI||window.location.origin+"/",n=new URL("photon_rs.js",e).href;console.log("ðŸ”„ Loading Photon WASM from:",n);const o=await import(n),i=new URL("photon_rs_bg.wasm",e).href;return await o.default(i),t=o,console.log("âœ… Photon WASM initialized successfully"),o}catch(t){throw console.error("âŒ Failed to initialize Photon WASM:",t),e=null,t}})(),e)}window.photonInit={init:n,get:async function(){return t||await n(),t},isReady:function(){return null!==t}}},85:()=>{var t;window.dnetoverlay=(t=new Map,{addWindowEventListeners:function(e){var n=window.rxjs,o=n.merge(n.fromEvent(window,"resize"),n.fromEvent(window,"orientationchange")).pipe(n.operators.auditTime(100)).subscribe((t=>{e.invokeMethodAsync("OnWindowResized",{Width:window.innerWidth,Height:window.innerHeight})}));return t.set(e,o),!0},removeWindowEventListeners:function(e){var n=t.get(e);n&&(n.unsubscribe(),t.delete(e))},getViewportScrollPosition:function(){var t=document.documentElement,e=t.getBoundingClientRect();return{Top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,Left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}},getViewportSize:function(){return{Width:window.innerWidth,Height:window.innerHeight}},getViewportSizeNoScroll:function(){return{Width:document.documentElement.clientWidth,Height:document.documentElement.clientHeight}},getBoundingClientRect:function(t){return t.getBoundingClientRect()},getDocumentBoundingClientRect:function(){return document.documentElement.getBoundingClientRect()},getDocumentClientHeight:function(){return document.documentElement.clientHeight},getDocumentClientWidth:function(){return document.documentElement.clientWidth},getWindowWidth:function(){return window.innerWidth},getContainerWidth:function(t){const e=document.getElementById(t);return e?e.offsetWidth:0}})},871:()=>{window.dnetinterop={get:t=>t in localStorage?JSON.parse(localStorage[t]):null,set:(t,e)=>{localStorage[t]=JSON.stringify(e)},delete:t=>{delete localStorage[t]},getElementScrollLeft:function(t){return null!=t?t.scrollLeft:0},getBoundingClientRect:function(t){return null!=t?t.getBoundingClientRect():null},getElementScrollWidth:function(t){return null!=t?t.scrollWidth:0},getElementSOffsets:function(t){return null==t?{offsetWidth:0,offsetHeight:0,offsetTop:0,offsetLeft:0}:{offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight,offsetTop:t.offsetTop,offsetLeft:t.offsetLeft}}}}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n(619),n(27),n(918),n(998),n(85),n(871)})();